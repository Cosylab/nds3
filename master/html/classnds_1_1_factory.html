<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NDS3: nds::Factory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NDS3
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">API reference manual</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classnds_1_1_factory.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classnds_1_1_factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nds::Factory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Communicates with a static instance of the control system. </p>
<p>It is used to register new devices and to launch the loop that communicates with the actual control system and runs until the application is terminated. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="oscilloscope_2oscilloscope_8cpp-example.html#_a0">oscilloscope/oscilloscope.cpp</a>, <a class="el" href="oscilloscope_multi_channel_2oscilloscope_multi_channel_8cpp-example.html#_a0">oscilloscopeMultiChannel/oscilloscopeMultiChannel.cpp</a>, <a class="el" href="rpc_square_2rpc_square_8cpp-example.html#_a0">rpcSquare/rpcSquare.cpp</a>, and <a class="el" href="thermometer_2thermometer_8cpp-example.html#_a0">thermometer/thermometer.cpp</a>.</dd>
</dl></div>
<p><code>#include &lt;<a class="el" href="factory_8h_source.html">factory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a751ae19e975a310d5c2623c1ff0ab6a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#a751ae19e975a310d5c2623c1ff0ab6a2">Factory</a> (const std::string &amp;controlSystemName)</td></tr>
<tr class="memdesc:a751ae19e975a310d5c2623c1ff0ab6a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a factory object that communicates with the control system.  <a href="#a751ae19e975a310d5c2623c1ff0ab6a2">More...</a><br/></td></tr>
<tr class="separator:a751ae19e975a310d5c2623c1ff0ab6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa96fcbc182a4171be46c79de3a0cab4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#aa96fcbc182a4171be46c79de3a0cab4e">run</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:aa96fcbc182a4171be46c79de3a0cab4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launches a loop that communicate with the control system.  <a href="#aa96fcbc182a4171be46c79de3a0cab4e">More...</a><br/></td></tr>
<tr class="separator:aa96fcbc182a4171be46c79de3a0cab4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ed32d553a0e7fdf8f7c90ecfa00900"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#a46ed32d553a0e7fdf8f7c90ecfa00900">createDevice</a> (const std::string &amp;driverName, const std::string &amp;deviceName, const <a class="el" href="namespacends.html#a1623ccf32bf1883cc75d22e2471c535b">namedParameters_t</a> &amp;parameters)</td></tr>
<tr class="memdesc:a46ed32d553a0e7fdf8f7c90ecfa00900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a device registered with registerDriver or loaded during the startup sequence.  <a href="#a46ed32d553a0e7fdf8f7c90ecfa00900">More...</a><br/></td></tr>
<tr class="separator:a46ed32d553a0e7fdf8f7c90ecfa00900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871f83316c15411fe287f1ba74ff3a36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#a871f83316c15411fe287f1ba74ff3a36">destroyDevice</a> (const std::string &amp;deviceName)</td></tr>
<tr class="memdesc:a871f83316c15411fe287f1ba74ff3a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a device created with <a class="el" href="classnds_1_1_factory.html#a46ed32d553a0e7fdf8f7c90ecfa00900" title="Create a device registered with registerDriver or loaded during the startup sequence. ">createDevice()</a>.  <a href="#a871f83316c15411fe287f1ba74ff3a36">More...</a><br/></td></tr>
<tr class="separator:a871f83316c15411fe287f1ba74ff3a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46184c9691640dc25ecf72a15231ab07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#a46184c9691640dc25ecf72a15231ab07">subscribe</a> (const std::string &amp;pushFrom, const std::string &amp;pushTo)</td></tr>
<tr class="memdesc:a46184c9691640dc25ecf72a15231ab07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe an output PV (derived from <a class="el" href="classnds_1_1_p_v_base_out.html" title="Represents an output PV. ">PVBaseOut</a>) to an input PV (derived from <a class="el" href="classnds_1_1_p_v_base_in.html" title="Represents an input PV. ">PVBaseIn</a>).  <a href="#a46184c9691640dc25ecf72a15231ab07">More...</a><br/></td></tr>
<tr class="separator:a46184c9691640dc25ecf72a15231ab07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95d8751d853a8bbb216d1078cd550f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#ad95d8751d853a8bbb216d1078cd550f6">unsubscribe</a> (const std::string &amp;pushTo)</td></tr>
<tr class="memdesc:ad95d8751d853a8bbb216d1078cd550f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe an output PV from the input PV.  <a href="#ad95d8751d853a8bbb216d1078cd550f6">More...</a><br/></td></tr>
<tr class="separator:ad95d8751d853a8bbb216d1078cd550f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19369a22b7ccb8ca138ad0359af5dcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#af19369a22b7ccb8ca138ad0359af5dcb">replicate</a> (const std::string &amp;replicateSource, const std::string &amp;replicateDestination)</td></tr>
<tr class="memdesc:af19369a22b7ccb8ca138ad0359af5dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replicate an input PV (derived from <a class="el" href="classnds_1_1_p_v_base_in.html" title="Represents an input PV. ">PVBaseIn</a>) to another input PV.  <a href="#af19369a22b7ccb8ca138ad0359af5dcb">More...</a><br/></td></tr>
<tr class="separator:af19369a22b7ccb8ca138ad0359af5dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65026266496ebfd3a580d3cbef898e92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#a65026266496ebfd3a580d3cbef898e92">stopReplicationTo</a> (const std::string &amp;destination)</td></tr>
<tr class="memdesc:a65026266496ebfd3a580d3cbef898e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the replication to the specified PV.  <a href="#a65026266496ebfd3a580d3cbef898e92">More...</a><br/></td></tr>
<tr class="separator:a65026266496ebfd3a580d3cbef898e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e13cff3c1e419cc66c230319ddb618"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnds_1_1_thread.html">Thread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#a46e13cff3c1e419cc66c230319ddb618">runInThread</a> (const std::string &amp;name, threadFunction_t function)</td></tr>
<tr class="memdesc:a46e13cff3c1e419cc66c230319ddb618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new thread and executes the specified function in it.  <a href="#a46e13cff3c1e419cc66c230319ddb618">More...</a><br/></td></tr>
<tr class="separator:a46e13cff3c1e419cc66c230319ddb618"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abf27f015d23f5baf4250727ae505a9d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#abf27f015d23f5baf4250727ae505a9d2">registerDriver</a> (const std::string &amp;driverName, <a class="el" href="namespacends.html#ab096861ac621605317ec85bc676a80f9">allocateDriver_t</a> allocateFunction, <a class="el" href="namespacends.html#adbb022f4798ade09ebace7a59015f89c">deallocateDriver_t</a> deallocateFunction)</td></tr>
<tr class="memdesc:abf27f015d23f5baf4250727ae505a9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a device in the control system.  <a href="#abf27f015d23f5baf4250727ae505a9d2">More...</a><br/></td></tr>
<tr class="separator:abf27f015d23f5baf4250727ae505a9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae084909c7d59c12fd34dd035b2970c1a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnds_1_1_factory.html#ae084909c7d59c12fd34dd035b2970c1a">registerControlSystem</a> (<a class="el" href="classnds_1_1_factory.html">Factory</a> &amp;factory)</td></tr>
<tr class="memdesc:ae084909c7d59c12fd34dd035b2970c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new control system.  <a href="#ae084909c7d59c12fd34dd035b2970c1a">More...</a><br/></td></tr>
<tr class="separator:ae084909c7d59c12fd34dd035b2970c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a751ae19e975a310d5c2623c1ff0ab6a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nds::Factory::Factory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>controlSystemName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a factory object that communicates with the control system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controlSystemName</td><td>the type of control system to communicate with (empty = default) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a46ed32d553a0e7fdf8f7c90ecfa00900"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::createDevice </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>driverName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>deviceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacends.html#a1623ccf32bf1883cc75d22e2471c535b">namedParameters_t</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a device registered with registerDriver or loaded during the startup sequence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">driverName</td><td>the name of the driver that implements the device </td></tr>
    <tr><td class="paramname">deviceName</td><td>a parameter passed to the device usually used to set the name of the root node </td></tr>
    <tr><td class="paramname">parameters</td><td>map of named parameters passed to the device </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a871f83316c15411fe287f1ba74ff3a36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::destroyDevice </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>deviceName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a device created with <a class="el" href="classnds_1_1_factory.html#a46ed32d553a0e7fdf8f7c90ecfa00900" title="Create a device registered with registerDriver or loaded during the startup sequence. ">createDevice()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceName</td><td>the name given to the device in <a class="el" href="classnds_1_1_factory.html#a46ed32d553a0e7fdf8f7c90ecfa00900" title="Create a device registered with registerDriver or loaded during the startup sequence. ">createDevice()</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae084909c7d59c12fd34dd035b2970c1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nds::Factory::registerControlSystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnds_1_1_factory.html">Factory</a> &amp;&#160;</td>
          <td class="paramname"><em>factory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a new control system. </p>
<p>Control system interfaces are loaded from dynamic modules during startup, but in some cases they may also be registered separately via this method.</p>
<p>The test units use this method to register test control systems that have access to the NDS internals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">factory</td><td>the control system to be registered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf27f015d23f5baf4250727ae505a9d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nds::Factory::registerDriver </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>driverName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacends.html#ab096861ac621605317ec85bc676a80f9">allocateDriver_t</a>&#160;</td>
          <td class="paramname"><em>allocateFunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacends.html#adbb022f4798ade09ebace7a59015f89c">deallocateDriver_t</a>&#160;</td>
          <td class="paramname"><em>deallocateFunction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a device in the control system. </p>
<p>The devices are loaded automatically from the folders declared in the enviroment variables NDS_DEVICES and LD_LIBRARY_PATH. However you can use this method to declare additional devices that have been statically linked to your application (e.g.: the NDS test units do this).</p>
<p>Your device lifecycle will be managed by NDS: an allocation function will be called when the device is needed and a deallocation function will be called when the device can be deleted.</p>
<p>The allocation function should take care of creating the device structure using the <a class="el" href="classnds_1_1_node.html" title="A node object that can contain other nodes or PVs as children. ">Node</a>, <a class="el" href="classnds_1_1_port.html" title="Represents a node with direct connection with the controlled device. ">Port</a> and <a class="el" href="classnds_1_1_p_v_base.html" title="Base class for objects that process a single PV (or attribute in Tango parlance). ...">PVBase</a> derived classes and call initialize() on the root node. It should also allocate the classes that contain the delegate functions used by the nodes and PVs.</p>
<p>The deallocation function should take care of removing the classes that contain the delegate functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">driverName</td><td>the device driver name </td></tr>
    <tr><td class="paramname">allocateFunction</td><td>the allocation function </td></tr>
    <tr><td class="paramname">deallocateFunction</td><td>the deallocation function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af19369a22b7ccb8ca138ad0359af5dcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::replicate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>replicateSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>replicateDestination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replicate an input PV (derived from <a class="el" href="classnds_1_1_p_v_base_in.html" title="Represents an input PV. ">PVBaseIn</a>) to another input PV. </p>
<p>Each time data is pushed to the source input PV then the same data is also pushed to the destination PV immediately and in the same thread used by the original push/write operation.</p>
<p>This method works also across control systems running in the same NDS process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">replicateSource</td><td>the full name of the input PV from which the data is replicated </td></tr>
    <tr><td class="paramname">replicateDestination</td><td>the full name of the input PV to which the data must be copied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa96fcbc182a4171be46c79de3a0cab4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::run </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Launches a loop that communicate with the control system. </p>
<p>The loop terminates only when the application must exit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>the argc parameter received by the main() function </td></tr>
    <tr><td class="paramname">argv</td><td>the argv parameter received by the main() function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a46e13cff3c1e419cc66c230319ddb618"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnds_1_1_thread.html">Thread</a> nds::Factory::runInThread </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">threadFunction_t&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new thread and executes the specified function in it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the thread name </td></tr>
    <tr><td class="paramname">function</td><td>the function to execute in the new thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="classnds_1_1_thread.html" title="Represents a thread. ">Thread</a> object that references the new thread </dd></dl>

</div>
</div>
<a class="anchor" id="a65026266496ebfd3a580d3cbef898e92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::stopReplicationTo </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>destination</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the replication to the specified PV. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination</td><td>the full name of the input PV that should stop receiving copies of the data pushed to the source PV </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a46184c9691640dc25ecf72a15231ab07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::subscribe </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pushFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pushTo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe an output PV (derived from <a class="el" href="classnds_1_1_p_v_base_out.html" title="Represents an output PV. ">PVBaseOut</a>) to an input PV (derived from <a class="el" href="classnds_1_1_p_v_base_in.html" title="Represents an input PV. ">PVBaseIn</a>). </p>
<p>Each time the specified input PV pushes new values or is written by the device support that owns it then the output PV receives the pushed or written value immediately and in the same thread used to push/write the input PV.</p>
<p>This method works also across control systems running in the same NDS process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pushFrom</td><td>the full name of the input PV from which the data must be pushed </td></tr>
    <tr><td class="paramname">pushTo</td><td>the full name of the output PV to which the data must be pushed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad95d8751d853a8bbb216d1078cd550f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nds::Factory::unsubscribe </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pushTo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe an output PV from the input PV. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pushTo</td><td>the name of the receiving PV that must be unsubscribed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/travis/build/Cosylab/nds3/include/nds3/<a class="el" href="factory_8h_source.html">factory.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacends.html">nds</a></li><li class="navelem"><a class="el" href="classnds_1_1_factory.html">Factory</a></li>
    <li class="footer">Generated on Thu Feb 1 2018 21:25:22 for NDS3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
